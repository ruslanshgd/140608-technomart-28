var sendContacts = document.querySelector(".contacts-link"), contactsPopup = document.querySelector(".modal-contacts"), contactsClose = contactsPopup.querySelector(".modal-close"), contactsEmail = contactsPopup.querySelector(".contacts-email"), contactsName = contactsPopup.querySelector(".contacts-name"), contactsForm = contactsPopup.querySelector(".contacts-form"), isStorageSupport = !0, storage = ""; try { storage = localStorage.getItem("email") } catch (e) { isStorageSupport = !1 } sendContacts.addEventListener("click", function (e) { e.preventDefault(), contactsPopup.classList.add("modal-show"), storage ? (contactsEmail.value = storage, contactsEmail.focus()) : contactsName.focus() }), contactsClose.addEventListener("click", function (e) { e.preventDefault(), contactsPopup.classList.remove("modal-show") }), contactsForm.addEventListener("submit", function (e) { contactsEmail.value && contactsEmail.value ? isStorageSupport && localStorage.setItem("email", contactsEmail.value) : e.preventDefault() }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && contactsPopup.classList.contains("modal-show") && (e.preventDefault(), contactsPopup.classList.remove("modal-show")) }); var mapLink = document.querySelector(".contacts-link-map"), mapPopup = document.querySelector(".modal-map"), mapClose = mapPopup.querySelector(".modal-close"); mapLink.addEventListener("click", function (e) { e.preventDefault(), mapPopup.classList.add("modal-show") }), mapClose.addEventListener("click", function (e) { e.preventDefault(), mapPopup.classList.remove("modal-show") }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && mapPopup.classList.contains("modal-show") && (e.preventDefault(), mapPopup.classList.remove("modal-show")) }); var orderLink = document.querySelector(".modal-order-link"), orderPopup = document.querySelector(".modal-orders"), orderClose = orderPopup.querySelector(".modal-close"); orderLink.addEventListener("click", function (e) { e.preventDefault(), orderPopup.classList.add("modal-show") }), orderClose.addEventListener("click", function (e) { e.preventDefault(), orderPopup.classList.remove("modal-show") }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && orderPopup.classList.contains("modal-show") && (e.preventDefault(), orderPopup.classList.remove("modal-show")) });